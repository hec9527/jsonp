var e=function(){return e=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},e.apply(this,arguments)},n=0,t=encodeURIComponent,r=document;function o(o,i,a){var c,u,f;"function"==typeof i&&(a=i,i={}),i||(i={});var l,p=i.prefix||"__jp",d=i.name||p+n++,s=i.param||"callback",m=null!==(u=i.timeout)&&void 0!==u?u:6e4,v=r.getElementsByTagName("script")[0]||r.head,w=r.createElement("script");function h(){w.parentNode&&w.parentNode.removeChild(w),delete window[d],l&&(clearTimeout(l),l=void 0)}return m&&(l=setTimeout((function(){h(),a&&a(new Error("Timeout"))}),m)),window[d]=function(e){h(),a&&a(null,e)},o=(o+="".concat((~o.indexOf("?")?"&":"?")+function(e){var n=[],r=function(e){return e?"=".concat(e):""};for(var o in e)if(void 0!==e[o])try{n.push(t(o)+r(t(e[o])))}catch(t){n.push(o+r(e[o]))}return n.join("&")}(e(e({},i.data),((c={})[s]=t(d),c))))).replace("?&","?"),w.src=o,w.onerror=function(){h(),a&&a(new Error("Failure"))},null===(f=v.parentNode)||void 0===f||f.insertBefore(w,v),function(){window[d]&&h()}}export{o as default};
//# sourceMappingURL=index.es.js.map
